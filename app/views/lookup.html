{% extends "layout.html" %}
{% block content %}
<style>
    .autocomplete__wrapper {
        position: relative;
        z-index: 0;
    }
    
    .autocomplete__hint, .autocomplete__input {
        -webkit-appearance: none;
        border: 2px solid #0b0c0c;
        border-radius: 0;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        margin-bottom: 0;
        width: 100%
    }
    
    .autocomplete__input {
        background-color: transparent;
        position: relative
    }
    
    .autocomplete__hint {
        color: #b1b4b6;
        position: absolute
    }
    
    .autocomplete__input--default {
        padding: 5px
    }
    
    .autocomplete__input--focused {
        outline: 3px solid #fd0;
        outline-offset: 0;
        box-shadow: inset 0 0 0 2px
    }
    
    .autocomplete__input--show-all-values {
        padding: 5px 34px 5px 5px;
        cursor: pointer
    }
    
    .autocomplete__dropdown-arrow-down {
        z-index: -1;
        display: inline-block;
        position: absolute;
        right: 8px;
        width: 12px;
        height: 12px;
        top: 12px;
    
    }
    
    .autocomplete__menu {
        background-color: #fff;
        border: 2px solid #0b0c0c;
        border-top: 0;
        color: #0b0c0c;
        margin: 0;
        max-height: 342px;
        overflow-x: hidden;
        padding: 0;
        width: 100%;
        width: calc(100% - 4px)
    }
    
    .autocomplete__menu--visible {
        display: block
    }
    
    .autocomplete__menu--hidden {
        display: none
    }
    
    .autocomplete__menu--overlay {
        box-shadow: rgba(0,0,0,.256863) 0 2px 6px;
        left: 0;
        position: absolute;
        top: 100%;
        z-index: 100
    }
    
    .autocomplete__menu--inline {
        position: relative
    }
    
    .autocomplete__option {
        font-family: "GDS Transport", arial, sans-serif;
        border-bottom: solid #b1b4b6;
        border-width: 1px 0;
        cursor: pointer;
        display: block;
        position: relative
    }
    
        .autocomplete__option > * {
            pointer-events: none
        }
    
        .autocomplete__option:first-of-type {
            border-top-width: 0
        }
    
        .autocomplete__option:last-of-type {
            border-bottom-width: 0
        }
    
    .autocomplete__option--odd {
        background-color: #fafafa
    }
    
    .autocomplete__option--focused, .autocomplete__option:hover {
        background-color: #1d70b8;
        border-color: #1d70b8;
        color: #fff;
        outline: 0
    }
    
    @media (-ms-high-contrast:active),(forced-colors:active) {
        .autocomplete__menu {
            border-color: FieldText
        }
    
        .autocomplete__option {
            background-color: Field;
            color: FieldText
        }
    
            .autocomplete__option--focused, .autocomplete__option:hover {
                forced-color-adjust: none;
                background-color: SelectedItem;
                border-color: SelectedItem;
                color: SelectedItemText;
                outline-color: SelectedItemText
            }
    }
    
    .autocomplete__option--no-results {
        background-color: #fafafa;
        color: #646b6f;
        cursor: not-allowed
    }
    
    .autocomplete__hint, .autocomplete__input, .autocomplete__option {
        font-size: 16px;
        line-height: 1.25
    }
    
    .autocomplete__hint, .autocomplete__option {
        padding: 5px
    }
    
    
    
    </style>

<script src="/public/javascripts/jquery-1.11.3.js"></script>
<script src="/public/javascripts/autocomplete.min.js"></script>
<div class="govuk-main-wrapper--auto-spacing">
<div> 
    <h1 class="govuk-heading-s">Select something...</h1>
    <label class="govuk-label" for="prototype-select">Test:</label>
    <select id="prototype-select">
        <option value="0b04dc2a-daa7-49a6-9cb3-4b4202cfe122">Cumbria and Lancashire (CLA)</option>
        <option value="65753ec0-623f-4319-999e-1ab6741de98b">Devon, Cornwall and the Isles of Scilly (DCS)</option>
        <option  value="4ddad596-153b-436f-b1e2-31fea920afb3">East Anglia (EAN)</option>
        <option value="3d19b4ca-a818-421d-b51c-7091d9d33d98">East Midlands (EMD)</option>
        <option value="7309d7ec-6f80-4683-bcbf-665fc69c2daf">Greater Manchester, Merseyside and Cheshire (GMC)</option>
        <option value="32d96069-ef88-41d4-a35a-d060c40084a2">Hertfordshire and North London (HNL)</option>
        <option value="024d201e-60a6-475c-9cb0-f0c2ad123b8b">Kent, South London and East Sussex (KSL)</option>
        <option value="8dedfdc2-9041-447f-88d3-d5aa3e3b0af0">Lincolnshire and Northamptonshire (LNA)</option>
        <option value="e0d36de0-f2cb-400a-a290-e830a544c4c9">North East (NEA)</option>
        <option value="41c5ffaf-e4fb-4dd1-bf30-e5ec53f36e59">Solent and South Downs (SSD)</option>
        <option value="d62b24a3-bc5b-43f7-a042-ea7aadbfe4e6">Thames (THM)</option>
        <option value="cdfb7f17-0d57-4de8-8408-acf7365cf6ee">Wessex (WSX)</option>
        <option value="c9cafb85-1ab0-4192-872f-2bcb8ead357b">West Midlands (WMD)</option>
        <option value="5921bb40-b313-4a5e-919a-bbd1b866c0d2">Yorkshire (YOR)</option>
        </select>
    </div>

    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            var selectElement = document.querySelector('#prototype-select');
            function suggest (query, populateResults) {   
                          
                $.ajax({
                    }).done(function (){
                        //result.splice(0, 1);
                        //filteredResults = result.splice(0, 1);
                    });
                var result = Array.from(selectElement.options).map(el => el.textContent || el.innerText);
                //var filteredResults = [];
                populateResults(result)
            };

            

            accessibleAutocomplete.enhanceSelectElement({
               selectElement: document.querySelector('#prototype-select'),
               autoselect: false,
               showAllValues: true,
               //source: suggest,
               dropdownArrow: function (config) {
                    return '<svg class="autocomplete__dropdown-arrow-down" viewBox="0 0 512 512" ><path d="M256,298.3L256,298.3L256,298.3l174.2-167.2c4.3-4.2,11.4-4.1,15.8,0.2l30.6,29.9c4.4,4.3,4.5,11.3,0.2,15.5L264.1,380.9  c-2.2,2.2-5.2,3.2-8.1,3c-3,0.1-5.9-0.9-8.1-3L35.2,176.7c-4.3-4.2-4.2-11.2,0.2-15.5L66,131.3c4.4-4.3,11.5-4.4,15.8-0.2L256,298.3  z"/></svg>'
               }
            });

           /*  var result = [];
            result = Array.from(selectElement.options).map(el => el.textContent || el.innerText);
            var id = selectElement.id;
            var element = document.createElement('div');

            selectElement.parentNode.insertBefore(element, selectElement);

            function suggest (query, populateResults) {   
                var filteredResults = result;            
                $.ajax({
                    }).done(function (){
                        //result.splice(0, 1);
                        //filteredResults = result.splice(0, 1);
                    });

                populateResults(filteredResults)
            };

            accessibleAutocomplete({
                showAllValues: true,
                id: id,
                source: result,
                //source: suggest,
                element: element,
                dropdownArrow: function (config) {
                return '<svg class="autocomplete__dropdown-arrow-down" viewBox="0 0 512 512" ><path d="M256,298.3L256,298.3L256,298.3l174.2-167.2c4.3-4.2,11.4-4.1,15.8,0.2l30.6,29.9c4.4,4.3,4.5,11.3,0.2,15.5L264.1,380.9  c-2.2,2.2-5.2,3.2-8.1,3c-3,0.1-5.9-0.9-8.1-3L35.2,176.7c-4.3-4.2-4.2-11.2,0.2-15.5L66,131.3c4.4-4.3,11.5-4.4,15.8-0.2L256,298.3  z"/></svg>'
                }
            });

            selectElement.style.display = 'none';
            selectElement.id = selectElement.id + '-select';   */
        });
    </script>
{% endblock %}